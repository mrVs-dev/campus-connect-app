rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{document=**} {
      allow read, write: if request.auth != null;
    }
    match /students/{document=**} {
      allow read, write: if request.auth != null;
    }
    match /teachers/{document=**} {
      allow read, write: if request.auth != null;
    }
    match /settings/{document=**} {
      allow read, write: if request.auth != null;
    }
    match /admissions/{document=**} {
      allow read, write: if request.auth != null;
    }
    match /assessments/{document=**} {
      allow read, write: if request.auth != null;
    }
    match /student_status_history/{document=**} {
      allow read, write: if request.auth != null;
    }
     match /fees/{document=**} {
      allow read, write: if request.auth != null;
    }
     match /invoices/{document=**} {
      allow read, write: if request.auth != null;
    }
     match /inventory/{document=**} {
      allow read, write: if request.auth != null;
    }
     match /attendance/{document=**} {
      allow read, write: if request.auth != null;
    }
    match /fcmTokens/{token} {
      allow write: if request.auth != null && request.resource.data.userId == request.auth.uid;
    }
     match /metadata/{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}